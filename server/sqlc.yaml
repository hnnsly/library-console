version: "2"
sql:
  - engine: "postgresql"
    schema: "./sql/schema/" # Directory for schema files
    queries: "./sql/queries/" # Directory for query files
    gen:
      go:
        package: "postgres"
        out: "./internal/repository/postgres"
        sql_package: "pgx/v5"
        emit_json_tags: true
        emit_result_struct_pointers: true
        emit_prepared_queries: true
        emit_interface: true
        overrides:
          # - db_type: "uuid"
          #   go_type:
          #     import: "github.com/google/uuid"
          #     type: "UUID"

          # Timestamp with timezone
          - db_type: "timestamptz"
            go_type:
              import: "time"
              type: "Time"

          - db_type: "date"
            go_type:
              import: "time"
              type: "Time" # time.Time

          # Numeric/Decimal
          - column: "inventory.price"
            go_type:
              import: "github.com/govalues/decimal"
              type: "Decimal"
          - db_type: "numeric"
            go_type:
              import: "github.com/govalues/decimal"
              type: "Decimal"

          # Text arrays
          - db_type: "text[]"
            go_type:
              type: "[]string"
